function PivotTable(n){var t,r,u,f,e,i;this.setSDTProjects=function(n){this.SDTProjects=n};this.getSDTProjects=function(){return this.SDTProjects};this.setSDTEmployeeProjectHoursCollection=function(n){this.SDTEmployeeProjectHoursCollection=n};this.getSDTEmployeeProjectHoursCollection=function(){return this.SDTEmployeeProjectHoursCollection};this.setProjectHours=function(n){this.ProjectHours=n};this.getProjectHours=function(){return this.ProjectHours};t="<div id=\"print\" style=\"padding-top:1px;overflow:scroll; scrollbar-width:none; border-right: 1px solid #dddddd; border-left: 1px solid #dddddd\">\t<table class=\"my-sticky-column-table gx-tab-spacing-fix-2 GridWithPaginationBar GridWithBorderColor WorkWith table-responsive\" style='border: 1px solid #dddddd; border-collapse: collapse;'>\t\t<thead  style=\"border-collapse: collapse; position:sticky; top:0; z-index:10\">\t\t<!-- border-collapse: collapse; position:sticky; top:0; z-index:10 -->\t\t\t<tr>\t\t\t\t<th class='text-center' style='border: 1px solid #dddddd; border-collapse: collapse;'>Projects per employee:<\/th>\t\t\t\t{{#SDTProjects}}\t\t\t\t<th style='border: 1px solid #dddddd; border-collapse: collapse;padding: 5px; background:#f5f5f5;' scope=\"col\" class='text-center'><a id='Project-{{Id}}' style='cursor:pointer' class='project' >{{ProjectName}}<\/a><\/th>\t\t\t\t{{/SDTProjects}}\t\t\t\t<th style='border: 1px solid #dddddd; border-collapse: collapse; padding:5px' class='text-center'>Total Work Hours<\/th>\t\t\t\t{{#ShowLeaveTotal}}<th style=\"border: 1px solid #dddddd; border-collapse: collapse; padding:5px\" class=\"leave text-center\">Total Leave Hours<\/th><th style=\"border: 1px solid #dddddd; border-collapse: collapse; padding:5px\" class=\"leave text-center\">Total<\/th>{{/ShowLeaveTotal}}\t\t\t<\/tr>\t\t<\/thead>\t\t<tbody style='max-height:100px'>\t\t\t{{#SDTEmployeeProjectHoursCollection}}\t\t\t<tr class=\"GridWithPaginationBar GridNoBorder WorkWithOdd text-center\">\t\t\t\t\t<td style=\"border: 1px solid #dddddd; border-collapse: collapse;font-weight: bold;background:#f5f5f5; position:sticky; left:0; z-index:1\" class='text-center'><a href=''  data-event=\"Click\" >{{EmployeeName}}<\/a><\/td>\t\t\t\t\t\t\t\t{{#SDTProjects}}\t\t\t\t<td id='{{EmployeeId}}-{{Id}}' style='border: 1px solid #dddddd; border-collapse: collapse;' class=\"text-center\"><\/td>\t\t\t\t{{/SDTProjects}}\t\t\t\t\t\t\t\t<td class=\"text-center\" style='border: 1px solid #dddddd; border-collapse: collapse;font-weight: bold;background:#f5f5f5;'>\t\t\t\t\t<span class=\"tag\" style='padding: 0.5rem; {{#IsWorkTimeOptimal}} background:#00a95c; color:white; border-radius:5px;{{/IsWorkTimeOptimal}}'>{{TotalFormattedTime}}<\/span>\t\t\t\t<\/td>\t\t\t\t<!--<td style='border: 1px solid #dddddd; border-collapse: collapse;font-weight: bold;background:#f5f5f5;'>{{TotalTime}} {{ExpectedWorkTime}} {{IsWorkTimeOptimal}}<\/td>-->\t\t\t\t{{#ShowLeaveTotal}}<td class=\"leave text-center\" style='border: 1px solid #dddddd;font-weight: bold; border-collapse: collapse;background:#f5f5f5;'>{{TotalFormattedLeave}}<\/td>{{/ShowLeaveTotal}}\t\t\t\t{{#ShowLeaveTotal}}<td class='leave' style='border: 1px solid #dddddd;font-weight: bold; border-collapse: collapse;background:#f5f5f5;'>{{FormattedTotal}}<\/td>{{/ShowLeaveTotal}}\t\t\t\t<!--<td style='border: 1px solid #dddddd; border-collapse: collapse;'><a href=''  data-event=\"Click\" >Details<\/a><\/td>-->\t\t\t<\/tr>\t\t\t{{/SDTEmployeeProjectHoursCollection}}\t\t<\/tbody>\t\t\t\t<tfoot>\t\t\t<tr class=\"GridWithPaginationBar GridNoBorder WorkWithOdd\">\t\t\t\t<td style='border: 1px solid #dddddd; border-collapse: collapse;'>Total<\/td>\t\t\t\t{{#SDTProjects}}\t\t\t\t<td class=\"project-total text-center\" id='{{Id}}' style='border: 1px solid #dddddd; border-collapse: collapse;' scope=\"col\">0<\/td>\t\t\t\t{{/SDTProjects}}\t\t\t\t<td id='totalWorkHours' class='text-center' style='border: 1px solid #dddddd; border-collapse: collapse;bold;background:#f5f5f5;'>{{TotalFormattedWorkTime}}<\/td>\t\t\t\t{{#ShowLeaveTotal}}<td class=\"leave text-center\" style='border: 1px solid #dddddd; border-collapse: collapse;'><\/td>{{/ShowLeaveTotal}}\t\t\t\t{{#ShowLeaveTotal}}<td class=\"leave text-center\" style='border: 1px solid #dddddd; border-collapse: collapse;'>{{TotalFormattedTime}}<\/td>{{/ShowLeaveTotal}}\t\t\t\t<!--<td style='border: 1px solid #dddddd; border-collapse: collapse;'><\/td>-->\t\t\t<\/tr>\t\t<tfoot>\t\t\t<\/table><\/div><script type=\"text/javascript\">//    $(document).ready(function() {//\t//\t\t$(window).on('resize', function() {//\t\t\t// Your code here//\t\t\tvar newHeight = $(window).height();//\t\t\tconsole.log(\"New height: \" + newHeight);//\t\t\t$('#print').css(\"height\", newHeight-100)//\t\t\t// Perform actions based on the new height//\t\t});//  });  <\/script>";r={};Mustache.parse(t);u=0;f=0;this.show=function(){e=n(this.getContainerControl());u=0;f=0;this.setHtml(Mustache.render(t,this,r));this.renderChildContainers();n(this.getContainerControl()).find("[data-event='Click']").on("click",this.onClickHandler.closure(this)).each(function(n){this.setAttribute("data-items-index",n+1)});n(this.getContainerControl()).find("[data-event='ProjectClicked']").on("projectclicked",this.onProjectClickedHandler.closure(this)).each(function(n){this.setAttribute("data-items-index",n+1)});this.Start()};this.Scripts=[];this.Start=function(){function f(n){var t=Math.floor(n/60),i=n%60,r=t<10?"0"+t:t,u=i<10?"0"+i:i;return r+":"+u}var t,o,s,u,i,h,c,l,a;const v=this;for(let n=0;n<this.SDTEmployeeProjectHoursCollection.length;n++){var r=this.SDTEmployeeProjectHoursCollection[n],y=r.EmployeeId,e=r.ProjectHours;if(console.log(r.ExpectedWorkTime),console.log(r.TotalTime),e)for(let n=0;n<e.length;n++)t=e[n],i=document.getElementById(`${y}-${t.ProjectId}`),i.innerHTML=t.ProjectFormattedTime,o=document.getElementById(`${t.ProjectId}`),o.innerHTML=parseInt(o.innerHTML)+t.ProjectTime}s=document.getElementsByClassName("project-total");u=0;for(let n=0;n<s.length;n++)i=s[n],h=parseInt(i.innerHTML),u+=h,i.innerHTML=f(h),document.getElementById("totalWorkHours").innerHTML=f(u),this.TotalFormattedWorkTime=f(u);this.toggleLeave();c=document.getElementsByClassName("project");for(let n=0;n<c.length;n++)l=c[n],l.onclick=n=>{var t=parseInt(n.target.id.replace("Project-",""));console.log(t);v.CurrentProject=t;v.ProjectClicked()},console.log(l);a=n(window).height();console.log("New height: "+a);n("#print").css("height",a-100)};this.Refresh=function(n,t){this.SDTProjects=n;this.SDTEmployeeProjectHoursCollection=t;this.show();this.TotalFormattedWorkTime=this.TotalFormattedWorkTime};this.GetLS=function(){return window.localStorage.get("Hello")};this.toggleLeave=function(){for(var t=document.getElementsByClassName("leave"),n=0;n<t.length;n++)this.ShowLeaveTotal=="true"?(console.log(typeof this.ShowLeaveTotal),t[n].classList.remove("hidden")):t[n].classList.add("hidden")};this.onClickHandler=function(t){if(t){var i=t.currentTarget;t.preventDefault();this.SDTProjectsCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.SDTEmployeeProjectHoursCollectionCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.ProjectHoursCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1}this.Click&&this.Click()};this.onProjectClickedHandler=function(t){if(t){var i=t.currentTarget;t.preventDefault();this.SDTProjectsCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.SDTEmployeeProjectHoursCollectionCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.ProjectHoursCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1}this.ProjectClicked&&this.ProjectClicked()};this.autoToggleVisibility=!0;i={};this.renderChildContainers=function(){e.find("[data-slot][data-parent='"+this.ContainerName+"']").each(function(t,r){var e=n(r),f=e.attr("data-slot"),u;u=i[f];u||(u=this.getChildContainer(f),i[f]=u,u.parentNode.removeChild(u));e.append(u);n(u).show()}.closure(this))}}